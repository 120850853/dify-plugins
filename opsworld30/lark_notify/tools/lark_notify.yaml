identity:
  name: lark_notify
  author: opsworld30
  label:
    en_US: send_lark_notifications
    zh_Hans: 发送群消息
description:
  human:
    en_US: Send notifications to Lark group chats, supporting both text messages and card messages for enhanced team communication.
    zh_Hans: 通过飞书的群机器人webhook发送群消息
  llm: Send notifications to Lark group chats, supporting both text messages and card messages for enhanced team communication.
extra:
  python:
    source: tools/lark_notify.py
parameters:
  - name: message
    type: string
    form: llm
    required: true
    label:
      en_US: Message Content
      zh_Hans: 消息内容
    human_description:
      en_US: Message content to send
      zh_Hans: 要发送的消息内容
    llm_description: 要发送的群消息正文

  - name: msg_type
    type: select
    form: form
    required: true
    default: text
    label:
      en_US: Message Type
      zh_Hans: 消息类型
    human_description:
      en_US: Message type (text/card)
      zh_Hans: 消息类型（文本/卡片）
    options:
      - value: text
        label:
          en_US: Text Message
          zh_Hans: 文本消息
      - value: card
        label:
          en_US: Card Message
          zh_Hans: 卡片消息

  - name: title
    type: string
    form: form
    required: false
    label:
      en_US: Card Title
      zh_Hans: 卡片标题
    human_description:
      en_US: Title for card message (optional)
      zh_Hans: 卡片消息的标题（可选）
    show_if:
      parameter: msg_type
      value: ["card"]

  - name: card_type
    type: select
    form: form
    required: false
    default: info
    label:
      en_US: Card Type
      zh_Hans: 卡片类型
    human_description:
      en_US: Card message type (info/warning/success/error)
      zh_Hans: 卡片消息类型（信息/警告/成功/错误）
    options:
      - value: info
        label:
          en_US: Information
          zh_Hans: 信息
      - value: warning
        label:
          en_US: Warning
          zh_Hans: 警告
      - value: success
        label:
          en_US: Success
          zh_Hans: 成功
      - value: error
        label:
          en_US: Error
          zh_Hans: 错误
    show_if:
      parameter: msg_type
      value: ["card"]

  - name: card_layout
    type: select
    form: form
    required: false
    default: horizontal
    label:
      en_US: Card Layout
      zh_Hans: 卡片布局
    human_description:
      en_US: Card message layout (horizontal/vertical/bisected)
      zh_Hans: 卡片消息布局（水平/垂直/二分）
    options:
      - value: horizontal
        label:
          en_US: Horizontal
          zh_Hans: 水平布局
      - value: vertical
        label:
          en_US: Vertical
          zh_Hans: 垂直布局
      - value: bisected
        label:
          en_US: Bisected
          zh_Hans: 二分布局
    show_if:
      parameter: msg_type
      value: ["card"]

  - name: show_meta
    type: boolean
    form: form
    required: false
    default: true
    label:
      en_US: Show Meta Info
      zh_Hans: 显示元信息
    human_description:
      en_US: Show meta information like timestamp (optional)
      zh_Hans: 显示时间戳等元信息（可选）
    show_if:
      parameter: msg_type
      value: ["card"]